"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[476],{2210:function(t,a,e){e.d(a,{Z:function(){return l}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"pagination"},[a("button",{attrs:{disabled:1==t.pageNo},on:{click:function(a){return t.$emit("getpageNo",t.pageNo-1)}}},[t._v("上一页")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.startNumAndendNum.start>=2,expression:"startNumAndendNum.start >= 2"}],class:{active:1==t.pageNo},on:{click:function(a){return t.$emit("getpageNo",1)}}},[t._v("1")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.startNumAndendNum.start>=3,expression:"startNumAndendNum.start >= 3"}]},[t._v("···")]),t._l(t.startNumAndendNum.end,(function(e,s){return a("button",{directives:[{name:"show",rawName:"v-show",value:e>=t.startNumAndendNum.start,expression:"page>=startNumAndendNum.start"}],key:s,class:{active:t.pageNo==e},on:{click:function(a){return t.$emit("getpageNo",e)}}},[t._v(" "+t._s(e))])})),a("button",{directives:[{name:"show",rawName:"v-show",value:t.startNumAndendNum.end<t.totalPage-1,expression:"startNumAndendNum.end < totalPage - 1"}]},[t._v("···")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.startNumAndendNum.end<t.totalPage,expression:"startNumAndendNum.end < totalPage"}],class:{active:t.pageNo==t.totalPage},on:{click:function(a){return t.$emit("getpageNo",t.totalPage)}}},[t._v(t._s(t.totalPage))]),a("button",{attrs:{disabled:t.pageNo==t.totalPage},on:{click:function(a){return t.$emit("getpageNo",t.pageNo+1)}}},[t._v("下一页")]),a("button",{staticStyle:{"margin-left":"30px"}},[t._v("共 "+t._s(t.total)+" 条")])],2)},r=[],i={name:"Pagination",props:["pageNo","pageSize","total","continues"],computed:{totalPage(){return Math.ceil(this.total/this.pageSize)},startNumAndendNum(){let{continues:t,pageNo:a,totalPage:e}=this,s=0,r=0;return t>e?(s=1,r=e):(s=a-Math.floor(t/2),r=a+Math.floor(t/2),s<1?(s=1,r=t):r>e&&(s=e-t+1,r=e)),{start:s,end:r}}},methods:{clickpageNo(t){this.$emit("getpageNo",t)}}},n=i,o=e(1001),c=(0,o.Z)(n,s,r,!1,null,"29e14ef0",null),l=c.exports},6821:function(t,a,e){e.r(a),e.d(a,{default:function(){return f}});var s=function(){var t=this,a=t._self._c;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[t.searchParams.categoryName?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchParams.categoryName)),a("i",{on:{click:t.removecategoryName}},[t._v("x")])]):t._e(),t.searchParams.keyword?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchParams.keyword)),a("i",{on:{click:t.removekeyword}},[t._v("x")])]):t._e(),t.searchParams.trademark?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchParams.trademark.split(":")[1])),a("i",{on:{click:t.removetrademark}},[t._v("x")])]):t._e(),t._l(t.searchParams.props,(function(e,s){return a("li",{key:s,staticClass:"with-x"},[t._v(" "+t._s(e.split(":")[1])),a("i",{on:{click:function(a){return t.removeattrValue(s)}}},[t._v("x")])])}))],2)]),a("SearchSelector",{on:{trnkmarkInfo:t.trnkmarkInfo,attrInfo:t.attrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.activeOne},on:{click:function(a){return t.changeOrder(1)}}},[a("a",[t._v("综合 "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.activeOne,expression:"activeOne"}],class:{"iconfont icon-arrowup":t.isAsc,"iconfont icon-arrowdown":t.isDesc}})])]),a("li",{class:{active:t.activeTwo},on:{click:function(a){return t.changeOrder(2)}}},[a("a",[t._v("价格 "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.activeTwo,expression:"activeTwo"}],class:{"iconfont icon-arrowup":t.isAsc,"iconfont icon-arrowdown":t.isDesc}})])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(e){return a("li",{key:e.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:`/detail/${e.id}`}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.defaultImg,expression:"good.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),t._v("  "),a("i",[t._v(t._s(e.price)+".00")])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(e.title))])]),t._m(1,!0),t._m(2,!0)])])})),0)]),a("Pagination",{attrs:{pageNo:t.searchParams.pageNo,pageSize:t.searchParams.pageSize,total:t.total,continues:5},on:{getpageNo:t.getpageNo}})],1)],1)])],1)},r=[function(){var t=this,a=t._self._c;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=(e(7658),function(){var t=this,a=t._self._c;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(e){return a("li",{key:e.tmId,style:{cursor:"pointer"},on:{click:function(a){return t.tranmark(e)}}},[t._v(t._s(e.tmName))])})),0)]),t._m(0)]),t._l(t.attrsList,(function(e){return a("div",{key:e.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(e.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(e.attrValueList,(function(s,r){return a("li",{key:r,style:{cursor:"pointer"},on:{click:function(a){return t.arrtInfo(e,s)}}},[a("a",[t._v(t._s(s))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)}),n=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),t._v("  "),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],o={name:"SearchSelector",computed:{trademarkList(){return this.$store.state.search.ListPhone.trademarkList},attrsList(){return this.$store.state.search.ListPhone.attrsList}},methods:{tranmark(t){this.$emit("trnkmarkInfo",t)},arrtInfo(t,a){this.$emit("attrInfo",t,a)}}},c=o,l=e(1001),u=(0,l.Z)(c,i,n,!1,null,"249cda7c",null),d=u.exports,m=e(21),h=e(2210),v={name:"Search",components:{SearchSelector:d,TypeNav:m.Z,Pagination:h.Z},data(){return{searchParams:{categoryId:"",category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:3,props:[],trademark:""}}},beforeMount(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted(){this.getData()},computed:{goodsList(){return this.$store.state.search.ListPhone.goodsList},activeOne(){return-1!=this.searchParams.order.indexOf("1")},activeTwo(){return-1!=this.searchParams.order.indexOf("2")},isAsc(){return-1!=this.searchParams.order.indexOf("asc")},isDesc(){return-1!=this.searchParams.order.indexOf("desc")},total(){return this.$store.state.search.ListPhone.total}},methods:{getData(){this.$store.dispatch("getSearchData",this.searchParams)},removecategoryName(){this.searchParams.categoryName="",this.searchParams.categoryId="",this.getData(),this.$router.push({name:"Search",params:this.$route.params})},removekeyword(){this.searchParams.keyword="",this.getData(),this.$bus.$emit("clear"),this.$router.push({name:"Search",query:this.$route.query})},trnkmarkInfo(t){this.searchParams.trademark=t.tmId+":"+t.tmName,this.getData()},attrInfo(t,a){let e=t.attrId+":"+a+":"+t.attrName;-1==this.searchParams.props.indexOf(e)&&this.searchParams.props.push(e),this.getData()},removetrademark(){this.searchParams.trademark=void 0,this.getData()},removeattrValue(t){this.searchParams.props.splice(t,1),this.getData()},changeOrder(t){let a=this.searchParams.order.split(":")[1];console.log(a);let e="";1==t?e="1:"+("asc"==a?"desc":"asc"):2==t&&(e="2:"+("desc"==a?"asc":"desc")),this.searchParams.order=e,this.getData()},getpageNo(t){this.searchParams.pageNo=t,this.getData()}},watch:{$route:{handler(t,a){Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getData()}}}},g=v,p=(0,l.Z)(g,s,r,!1,null,"1ae1c93e",null),f=p.exports}}]);